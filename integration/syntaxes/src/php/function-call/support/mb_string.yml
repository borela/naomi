%YAML1.2
---

# Licensed under the Apache License, Version 2.0 (the “License”); you may not
# use this file except in compliance with the License. You may obtain a copy of
# the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an “AS IS” BASIS, WITHOUT
# WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
# License for the specific language governing permissions and limitations under
# the License.

contexts:
  main:
    - match: |
        (?x)\s*
        ((?>\\|\b))
        (
          mb_
          (?> check_encoding
            | convert_
              (?> case
                | encoding
                | kana
                | variables
              )
            | decode_(?>mimeheader|numericentity)
            | detect_(?>encoding|order)
            | encode_(?>mimeheader|numericentity)
            | encoding_aliases
            | ereg
              (?> i(?:_replace)?
                | _
                  (?> match
                    | lala
                    | replace(?:_callback)?
                    | search
                      (?:_
                        (?> getpos
                          | getregs
                          | init
                          | pos
                          | regs
                          | setpos
                        )
                      )?
                  )
              )?
            | get_info
            | http_(?:input|output)
            | internal_encoding
            | language
            | list_encodings
            | output_handler
            | parse_str
            | preferred_mime_name
            | regex_(?>encoding|set_options)
            | send_mail
            | split
            | str
              (?> cut
                | i
                  (?> mwidth
                    | pos
                    | str
                  )
                | len
                | pos
                | r
                  (?> chr
                    | i(?>chr|pos)
                    | pos
                  )
                | str
                | to(?>lower|upper)
                | width
              )
            | substitute_character
            | substr(?:_count)?
          )
        )
        (?=\s*\()
      captures:
        1: punctuation.definition.support.php.php7
        2: >-
          support.php.php7
          entity.name.function.php.php7
      set: arguments

  arguments:
    - include: ~/php/function-call/arguments
