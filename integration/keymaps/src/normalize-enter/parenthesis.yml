%YAML1.2
---

# Licensed under the Apache License, Version 2.0 (the “License”); you may not
# use this file except in compliance with the License. You may obtain a copy of
# the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an “AS IS” BASIS, WITHOUT
# WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
# License for the specific language governing permissions and limitations under
# the License.

bindings:
  # Pressing enter between “()” will have the same behavior as “{}”.
  - keys: [enter]
    # This is an example of how to use the multi command runner, the following
    # is be same as the “Default/Add Line in Braces.sublime-macro”. You can see
    # how the command works and usage instructions in:
    #
    #     Naomi/system/commands/RunCommands.py
    #
    command: naomi_run_commands
    args:
      commands:
        - command: insert
          args:
            characters: "\n\n"
        - command: move
          args:
            by: lines
            forward: false
        - command: move_to
          args:
            to: hardeol
            forward: false
        - command: reindent
          args:
            single_line: true
    context:
      - key: setting.auto_indent
        operator: equal
        operand: true
        match_all: true

      - key: selection_empty
        operator: equal
        operand: true
        match_all: true

      - key: preceding_text
        operator: regex_contains
        operand: \($
        match_all: true

      - key: following_text
        operator: regex_contains
        operand: ^\)
        match_all: true
